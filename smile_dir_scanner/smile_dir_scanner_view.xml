<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		<record id="file_import_template_form_view" model="ir.ui.view">
			<field name="name">smile_dir_scanner.file_import_template_form_view</field>
			<field name="model">smile_dir_scanner.template</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="File template">
					<separator string="Search parameters" colspan="4"/>
					<field name="name"/>
					<field name="directory" colspan="3"/>
					<field name="recursive_search" colspan="1"/>
					<field name="file_regex" colspan="4"/>
					<notebook colspan="4">
						<page string="Matched files">
							<button string="Search now" type="object" name="search_directory" colspan="4"/>	
							<field name="file_ids" nolabel="1" colspan="4"/>	
						</page>
						<page string="Advanced">
							<separator string="Triggers" colspan="4"/>
							<field name="cron_id" />
							<button type="object" name="create_cron" string="Create Scheduled Action" colspan="2" attrs="{'readonly': [('cron_id', '!=', False)]}"/>
						</page>
					</notebook>
				</form>
			</field>
		</record>
		
		<record id="file_import_template_tree_view" model="ir.ui.view">
			<field name="name">smile_dir_scanner.file_import_template_tree_view</field>
			<field name="model">smile_dir_scanner.template</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="File templates">
					<field name="name"/>
					<field name="file_regex"/>
					<field name="directory"/>
					<field name="recursive_search"/>
				</tree>
			</field>
		</record>
		
		<record id="file_import_file_tree_view" model="ir.ui.view">
			<field name="name">smile_dir_scanner.file_import_file_tree_view</field>
			<field name="model">smile_dir_scanner.file</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Files">
					<field name="create_date"/>
					<field name="template_id" invisible="context.get('invisible_template_id', False)"/>
					<field name="name"/>
					<field name="full_path"/>
					<field name="computed"/>
				</tree>
			</field>
		</record>
		
		<record id="act_dir_scanner_template" model="ir.actions.act_window">
			<field name="name">Templates</field>
			<field name="res_model">smile_dir_scanner.template</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{'invisible_template_id':True}</field>
		</record>
		
		<record id="act_dir_scanner_file" model="ir.actions.act_window">
			<field name="name">Found files</field>
			<field name="res_model">smile_dir_scanner.file</field>
			<field name="view_mode">tree</field>
		</record>
		

		<menuitem name="Directory scanner" id="menu_dir_scanner"
			parent="base.menu_config" sequence="51" />

		<menuitem action="act_dir_scanner_template" id="menu_dir_scanner_template"
			parent="menu_dir_scanner" />
		
		<menuitem action="act_dir_scanner_file" id="menu_dir_scanner_file"
			parent="menu_dir_scanner" />
		
		

	</data>
</openerp>