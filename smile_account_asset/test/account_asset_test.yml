-
  I confirm asset "account_asset_asset_digitalasset0"
-
  !python {model: account.asset.asset}: |
    self.validate(cr, uid, ref("account_asset_asset_digitalasset0"), context)
-
  I check the asset "account_asset_asset_digitalasset0" is open
-
  !assert {model: account.asset.asset, id: account_asset_asset_digitalasset0, string: Asset open after confirmation}:
    - state == 'open'
-
  I post the first accounting amortization line
-
  !python {model: account.asset.asset}: |
    accounting_depreciation_line = self.browse(cr, uid, ref("account_asset_asset_digitalasset0"), context).accounting_depreciation_line_ids[0]
    accounting_depreciation_line.post_depreciation_line()
-
  I post the first fiscal amortization line
-
  !python {model: account.asset.asset}: |
    fiscal_depreciation_line = self.browse(cr, uid, ref("account_asset_asset_digitalasset0"), context).fiscal_depreciation_line_ids[0]
    fiscal_depreciation_line.post_depreciation_line()
